## 代码说明文档



### 总体逻辑

目前有四类模型：

* 直接对多包组情况进行微调
* 首先使用正则表达式检查出有问题的数据，手工修改过后正常进行微调
* 先使用正则表达式对中标信息相关的两个字段index（覆盖905/908条数据），然后对提出出的金额部分进行微调

* 直接使用正则表达式对所有情况进行规则化抽取

### 代码介绍

`./result`目录: 都是大语言模型的推理结果

* result_regex.txt：直接使用正则表达式提取的结果。
* result_600.txt：index后对应的两个多包组字段的微调结果。
* result_500.txt：当前最稳定的微调结果
* result_sci.txt：英文数据的微调结果

使用修正后的数据重新微调的结果似乎有点过拟合，但大部分字段正确率比result_500.txt高。

`./eval`目录: 用于评估推理结果的代码（均需要修改data_path）

* eval.py:对全量多包组字段进行评估,包括正则表达式情况和正常微调的情况。
* eval_index.py:对index之后的中标单位和中标金额的输出进行评估。

`./process`目录: 用于数据预处理，大多数需要修改输入输出路径

* data_index_process:对数据完整数据按照中标信息进行index并输入到data/index路径下
* dataPreCheck：预检查数据可能出现的错误
* regex_baseline：用正则表达式匹配现有数据并生成结果
* shuffle/shuffle_index:从总数据和index的总数据中划分测试、训练、验证集

`./data`目录：存放各类数据

* mod目录下的数据：原始数据修正过后用于微调的数据
* data目录下的数据：原始数据
* index目录：首先提取出的数据

`./error`目录：存放各类的错误数据

* error_pre:预检查出的错误
* error_regex:正则表达式的错误
* error:微调后的错误

`./draw`目录:存放绘制Loss图的数据与代码

* data：对应的每个模型训练的loss、学习率等参数记录
* img：画出来的图
* lossDraw：画图的代码